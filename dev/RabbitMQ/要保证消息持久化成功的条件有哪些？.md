# 要保证消息持久化成功的条件有哪些？

* 声明队列必须设置持久化 durable 设置为 true.
* 消息推送投递模式必须设置持久化，deliveryMode 设置为 2（持久）。
* 消息已经到达持久化交换器。
* 消息已经到达持久化队列。

以上四个条件都满足才能保证消息持久化成功。

‍
